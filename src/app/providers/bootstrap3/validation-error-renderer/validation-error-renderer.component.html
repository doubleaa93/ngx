<ng-template #error let-error="error">
  <ng-container *ngIf="error" [ngSwitch]="error">
    <span class="help-block">
      <ng-container *ngSwitchCase="'required'">
        This field is required.
      </ng-container>
      <ng-container *ngSwitchDefault>
        Validation failed with error: {{error}}
      </ng-container>
    </span>
  </ng-container>
</ng-template>

<ng-container [ngTemplateOutlet]="error" [ngTemplateOutletContext]="{ error: getError() }"></ng-container>
